<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
<link name="base_footprint"/>
<joint name="base_joint" type="fixed"><parent link="base_footprint"/><child link="base_link"/><origin xyz="0 0 0.15"/></joint>
<link name="base_link">
<visual><origin xyz="0 0 0.1"/><geometry><box size="0.6 0.4 0.2"/></geometry><material name="blue"/></visual>
<collision><origin xyz="0 0 0.1"/><geometry><box size="0.6 0.4 0.2"/></geometry></collision>
<inertial><origin xyz="0 0 0.1"/><mass value="30.0"/><inertia ixx="1.0" ixy="0" ixz="0" iyy="1.0" iyz="0" izz="1.0"/></inertial>
</link>
<xacro:macro name="wheel" params="prefix y_reflect">
<link name="${prefix}_link">
<visual><origin xyz="0 0 0" rpy="${pi/2} 0 0"/><geometry><cylinder radius="0.1" length="0.05"/></geometry><material name="grey"/></visual>
<collision><origin xyz="0 0 0" rpy="${pi/2} 0 0"/><geometry><cylinder radius="0.1" length="0.05"/></geometry></collision>
<inertial><mass value="2.0"/><inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/></inertial>
</link>
<joint name="${prefix}_joint" type="continuous"><parent link="base_link"/><child link="${prefix}_link"/><origin xyz="-0.15 ${y_reflect*0.25} -0.05" rpy="0 0 0"/><axis xyz="0 1 0"/></joint>
</xacro:macro>
<xacro:wheel prefix="drivewhl_l" y_reflect="1"/>
<xacro:wheel prefix="drivewhl_r" y_reflect="-1"/>
<link name="caster">
<visual><geometry><sphere radius="0.1"/></geometry><material name="grey"/></visual>
<collision><geometry><sphere radius="0.1"/></geometry></collision>
<inertial><mass value="1.0"/><inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/></inertial>
</link>
<joint name="caster_joint" type="fixed"><parent link="base_link"/><child link="caster"/><origin xyz="0.2 0 -0.05"/></joint>
<gazebo reference="base_link"><self_collide>false</self_collide></gazebo>
<gazebo reference="caster"><mu1>0.01</mu1><mu2>0.01</mu2></gazebo>
</robot>
